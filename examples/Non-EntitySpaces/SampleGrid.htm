<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../../lib/json2.js" type="text/javascript"></script>
    <script src="../../lib/jquery-1.7.js" type="text/javascript"></script>
    <script src="../../lib/jquery.tmpl.js" type="text/javascript"></script>
    <script src="../../lib/knockout-latest.debug.js" type="text/javascript"></script>
    <script src="../../lib/knockout.mapping.js" type="text/javascript"></script>
    <script src="../../js/punchout_grid.js" type="text/javascript"></script>
    <script src="../../js/entityspaces_ko_helper.js" type="text/javascript"></script>
    <link href="../../css/punchout_grid.css" rel="stylesheet" type="text/css" />
</head>
<body>

   <!-- poGrid using the new KO template syntax -->
   <table>
        <tr>
            <td>
                This Punchout Grid is using an EntitySpaces JSON Service
            </td>
            <td>
                This Punchout Grid is using all client side data
            </td>
        </tr>
        <tr>
            <td valign="top">
                <div data-bind="poGrid: myView1"></div>
            </td>
            <td valign="top">
                <div data-bind="poGrid: myView2"></div>
            </td>	
        </tr>
        <tr>
            <td>
                <input type="checkbox" onclick="{ myView1.headerEnabled(!myView1.headerEnabled()) }">Hide Headers</input><br />
                <input type="checkbox" onclick="{ myView1.footerEnabled(!myView1.footerEnabled()) }">Hide Footers</input><br />
                <input type="checkbox" onclick="{ myView1.pager.enabled(!myView1.pager.enabled()) }">Hide Pager</input><br /><br />
                <input type="checkbox" onclick="{ myView1.columns()()[0].IsVisible(!checked) }">Hide Employee Id</input><br />
                <input type="checkbox" onclick="{ doit(myView1.columns(), !checked) }">Hide Last Name</input><br />
                <input type="checkbox" onclick="{ myView1.columns()()[2].IsVisible(!checked) }">Hide First Name</input>
            </td>
            <td>
                <input type="checkbox" onclick="{ myView2.headerEnabled(!myView2.headerEnabled()) }">Hide Headers</input><br />
                <input type="checkbox" onclick="{ myView2.footerEnabled(!myView2.footerEnabled()) }">Hide Footers</input><br />
                <input type="checkbox" onclick="{ myView2.pager.enabled(!myView2.pager.enabled()) }">Hide Pager</input><br /><br />
                <input type="checkbox" onclick="{ myView2.columns()()[0].IsVisible(!checked) }">Hide Employee Id</input><br />
                <input type="checkbox" onclick="{ doit(myView2.columns(), !checked) }">Hide Last Name</input><br />
                <input type="checkbox" onclick="{ myView2.columns()()[2].IsVisible(!checked) }">Hide First Name</input>
            </td>
        </tr>
    </table>

    <br/><br/>
    <a href="https://github.com/EntitySpaces/Punchout/blob/master/examples/Non-EntitySpaces/SampleGrid.htm" target="new">Source for this Page</A>
    <br/><br/>
    <a href="https://github.com/EntitySpaces/Punchout/blob/master/js/punchout_grid.js" target="new">Source for the Punchout Grid</A>					
    <br/><br/>
    <a href="https://github.com/EntitySpaces/Punchout" target="new">Punchout github site</A>	
</body>
</html>

<script language="javascript" type="text/javascript">

    function doit(o, checked) {
        o()[1].IsVisible(checked);
    }

var viewModel1 = {
    data: ko.observableArray([]),
    columns: ko.observableArray([])
}

var viewModel2 = {
    data: ko.observableArray([
        { "EmployeeID": 1, "FirstName": "Fred", "LastName": "Smith", "Age": 42, "RowState": 2 },
        { "EmployeeID": 2, "FirstName": "Joe", "LastName": "Smith", "Age": 39, "RowState": 2 },
        { "EmployeeID": 3, "FirstName": "Mike", "LastName": "Griffin", "Age": 26, "RowState": 2 },
        { "EmployeeID": 4, "FirstName": "Sally", "LastName": "BoJangles", "Age": 42, "RowState": 2 },
        { "EmployeeID": 5, "FirstName": "Sam", "LastName": "Rollins", "Age": 39, "RowState": 2 },
        { "EmployeeID": 6, "FirstName": "Mike", "LastName": "Smith", "Age": 26, "RowState": 2 },
        { "EmployeeID": 7, "FirstName": "Max", "LastName": "BoJangles", "Age": 42, "RowState": 2 },
        { "EmployeeID": 8, "FirstName": "Joe", "LastName": "Smith", "Age": 39, "RowState": 2 },
        { "EmployeeID": 9, "FirstName": "Mike", "LastName": "Smith", "Age": 26, "RowState": 2 },
        { "EmployeeID": 10, "FirstName": "Fred", "LastName": "Smith", "Age": 42, "RowState": 2 },
        { "EmployeeID": 11, "FirstName": "Fred", "LastName": "Smith", "Age": 42, "RowState": 2 },
        { "EmployeeID": 12, "FirstName": "Joe", "LastName": "Smith", "Age": 39, "RowState": 2 },
        { "EmployeeID": 13, "FirstName": "Pamela", "LastName": "Williams", "Age": 26, "RowState": 2 },
        { "EmployeeID": 14, "FirstName": "Sally", "LastName": "Smith", "Age": 42, "RowState": 2 },
        { "EmployeeID": 15, "FirstName": "Sam", "LastName": "Rollins", "Age": 39, "RowState": 2 },
        { "EmployeeID": 16, "FirstName": "Kelly", "LastName": "Jones", "Age": 26, "RowState": 2 },
        { "EmployeeID": 17, "FirstName": "Max", "LastName": "BoJangles", "Age": 42, "RowState": 2 },
        { "EmployeeID": 18, "FirstName": "Joe", "LastName": "Smith", "Age": 39, "RowState": 2 },
        { "EmployeeID": 19, "FirstName": "Mike", "LastName": "Smith", "Age": 26, "RowState": 2 },
        { "EmployeeID": 20, "FirstName": "Glenn", "LastName": "Maxwell", "Age": 42, "RowState": 2 },
        { "EmployeeID": 21, "FirstName": "Fred", "LastName": "Smith", "Age": 42, "RowState": 2 },
        { "EmployeeID": 22, "FirstName": "Joe", "LastName": "Smith", "Age": 39, "RowState": 2 },
        { "EmployeeID": 23, "FirstName": "Mike", "LastName": "Griffin", "Age": 26, "RowState": 2 },
        { "EmployeeID": 24, "FirstName": "Jamie", "LastName": "Curtis", "Age": 42, "RowState": 2 },
        { "EmployeeID": 25, "FirstName": "Sam", "LastName": "Rollins", "Age": 39, "RowState": 2 },
        { "EmployeeID": 26, "FirstName": "Jim", "LastName": "Smith", "Age": 26, "RowState": 2 },
        { "EmployeeID": 27, "FirstName": "Max", "LastName": "BoJangles", "Age": 42, "RowState": 2 },
        { "EmployeeID": 28, "FirstName": "Joe", "LastName": "Smith", "Age": 39, "RowState": 2 },
        { "EmployeeID": 29, "FirstName": "Mike", "LastName": "Ogle", "Age": 26, "RowState": 2 },
        { "EmployeeID": 30, "FirstName": "Rick", "LastName": "Smith", "Age": 42, "RowState": 2 },
        { "EmployeeID": 31, "FirstName": "Joe", "LastName": "Smith", "Age": 39, "RowState": 2 },
        { "EmployeeID": 32, "FirstName": "Mike", "LastName": "Smith", "Age": 26, "RowState": 2 },
        { "EmployeeID": 33, "FirstName": "Fred", "LastName": "Smith", "Age": 42, "RowState": 2 }
    ]),
    columns: ko.observableArray([
       {
           "CharacterMaxLength": 0,
           "ColumnName": "EmployeeID",
           "DataType": "Int32",
           "Default": null,
           "DisplayName": "EmployeeID",
           "HasDefault": false,
           "IsAutoIncrement": true,
           "IsConcurrency": false,
           "IsInPrimaryKey": true,
           "IsNullable": false,
           "IsVisible": true,
           "NumericPrecision": 10,
           "NumericScale": 0,
           "Ordinal": 0,
           "PropertyName": "EmployeeID",
           "FooterValue": "$100"
       },
       {
           "CharacterMaxLength": 20,
           "ColumnName": "LastName",
           "DataType": "String",
           "Default": null,
           "DisplayName": "LastName",
           "HasDefault": false,
           "IsAutoIncrement": false,
           "IsConcurrency": false,
           "IsInPrimaryKey": false,
           "IsNullable": false,
           "IsVisible": true,
           "NumericPrecision": 0,
           "NumericScale": 0,
           "Ordinal": 1,
           "PropertyName": "LastName",
           "FooterValue": "$102"
       },
       {
           "CharacterMaxLength": 10,
           "ColumnName": "FirstName",
           "DataType": "String",
           "Default": null,
           "DisplayName": "FirstName",
           "HasDefault": false,
           "IsAutoIncrement": false,
           "IsConcurrency": false,
           "IsInPrimaryKey": false,
           "IsNullable": false,
           "IsVisible": true,
           "NumericPrecision": 0,
           "NumericScale": 0,
           "Ordinal": 2,
           "PropertyName": "FirstName",
           "FooterValue": "$104"
       }])
}

//------------------------------------------------------------------------------
// This view is going to page against an EntitySpaces JSON WCF Service
//------------------------------------------------------------------------------
var myView1 = new po.poGrid.dataTable(viewModel1.data, viewModel1.columns);
myView1.pager = new es.dataPager(myView1); // Notice we use the es.dataPager here

myView1.pager.service = "http://localhost/esService/esJson.svc/";
myView1.pager.method = 'Employees_Pager';

myView1.pager.enabled(true);
myView1.headerEnabled(true);
myView1.footerEnabled(true);

//------------------------------------------------------------------------------
// This is all client side
//------------------------------------------------------------------------------
var myView2 = new po.poGrid.dataTable(viewModel2.data, viewModel2.columns);
myView2.pager = new po.poGrid.dataPager(myView2);  // standard punchout pager
myView2.pager.enabled(true);
myView2.headerEnabled(true);
myView2.footerEnabled(true);

ko.applyBindings({myView1: myView1, myView2: myView2}); 


</script>
