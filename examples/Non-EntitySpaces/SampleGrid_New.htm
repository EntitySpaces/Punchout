<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../../lib/json2.js" type="text/javascript"></script>
    <script src="../../lib/jquery-1.7.js" type="text/javascript"></script>
    <script src="../../lib/jquery.tmpl.js" type="text/javascript"></script>
    <script src="../../lib/knockout-latest.debug.js" type="text/javascript"></script>
    <script src="../../lib/knockout.mapping.js" type="text/javascript"></script>
    <script src="../../js/punchout_grid.js" type="text/javascript"></script>
    <link href="../../css/punchout_grid.css" rel="stylesheet" type="text/css" />
</head>
<body>

    <!-- Working on new 1.3 Native Template syntax -->
    <table class="es-grid" cellspacing="0">
        <thead data-bind="if: headerEnabled()">
            <tr data-bind="foreach: headers">
                <th data-bind="text: $data" >
                </th>
            </tr>
        </thead>

        <tbody data-bind="foreach: collection.slice(pager.startingRow(), pager.endingRow())">
            <tr data-bind="foreach: $root.columns, event: { mouseover: $root.OnMouseIn.bind($parent),  mouseout: $root.OnMouseOut.bind($parent), click: $root.OnClick.bind($root) }">
                <td data-bind="text: $parent[$data]">
                </td>
            </tr>
        </tbody>

        <tfoot data-bind="if: footerEnabled()">
            <tr data-bind="foreach: footers" >
                <td data-bind="text: $data">
                </td>
            </tr>

            <tr data-bind="if: pager.enabled()">
                <td data-bind="attr: { colspan: headers().length }" nowrap="nowrap">
                    <button data-bind="click: $root.OnFirstPage.bind($root)"> << </button> 
                    <button data-bind="click: $root.OnPrevPage.bind($root)"> < </button>
                    <button data-bind="click: $root.OnNextPage.bind($root)"> > </button>
                    <button data-bind="click: $root.OnLastPage.bind($root)"> >> </button>
                    Page <em data-bind="text: $root.pager.currentPage()" ></em> of 
                    <em data-bind="text: $root.pager.totalPageCount()"></em>
                </td>
            </tr>
        </tfoot>

    </table>

   <!-- poGrid using JQuery still, once I get the above finished it will all be KO template syntax -->
<!--   <div data-bind="poGrid: myView" />-->

</body>
</html>

<script language="javascript" type="text/javascript">


var viewModel = {
    data: ko.observableArray([
        {"EmployeeID": 1,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 2,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 3,"FirstName": "Mike","LastName": "Griffin","Age": 26,"RowState": 2},
        {"EmployeeID": 4,"FirstName": "Sally","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 5,"FirstName": "Sam", "LastName": "Rollins","Age": 39,"RowState": 2},
		{"EmployeeID": 6,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},		
        {"EmployeeID": 7,"FirstName": "Max","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 8,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 9,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},
        {"EmployeeID": 10,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
        {"EmployeeID": 11,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 12,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 13,"FirstName": "Pamela","LastName": "Williams","Age": 26,"RowState": 2},
        {"EmployeeID": 14,"FirstName": "Sally","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 15,"FirstName": "Sam", "LastName": "Rollins","Age": 39,"RowState": 2},
		{"EmployeeID": 16,"FirstName": "Kelly","LastName": "Jones","Age": 26,"RowState": 2},		
        {"EmployeeID": 17,"FirstName": "Max","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 18,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 19,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},
        {"EmployeeID": 20,"FirstName": "Glenn","LastName": "Maxwell","Age": 42,"RowState": 2},		
        {"EmployeeID": 21,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 22,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 23,"FirstName": "Mike","LastName": "Griffin","Age": 26,"RowState": 2},
        {"EmployeeID": 24,"FirstName": "Jamie","LastName": "Curtis","Age": 42,"RowState": 2},
		{"EmployeeID": 25,"FirstName": "Sam", "LastName": "Rollins","Age": 39,"RowState": 2},
		{"EmployeeID": 26,"FirstName": "Jim","LastName": "Smith","Age": 26,"RowState": 2},		
        {"EmployeeID": 27,"FirstName": "Max","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 28,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 29,"FirstName": "Mike","LastName": "Ogle","Age": 26,"RowState": 2},
        {"EmployeeID": 30,"FirstName": "Rick","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 31,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 32,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},
        {"EmployeeID": 33,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2}		
    ]),
    columns: ko.observableArray(["EmployeeID", "FirstName", "LastName", "RowState"]),
    headers: ko.observableArray(["Employee ID", "First Name", "Last Name", "Row State"]),
    footers: ko.observableArray(["$100.00", "$200.00", "$3.00", "$56.34"]),
}

var myView = new po.poGrid.viewModel(viewModel.data, viewModel.columns, viewModel.headers, viewModel.footers);
myView.pager.enabled(true);
myView.headerEnabled(true);
myView.footerEnabled(true);

ko.applyBindings(myView);

</script>
