<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../../lib/json2.js" type="text/javascript"></script>
    <script src="../../lib/jquery-1.6.js" type="text/javascript"></script>
    <script src="../../lib/jquery.tmpl.js" type="text/javascript"></script>
    <script src="../../lib/knockout-1.2.1.debug.js" type="text/javascript"></script>
    <script src="../../lib/knockout.mapping.js" type="text/javascript"></script>
    <script src="../../js/punchout_grid.js" type="text/javascript"></script>
    <link href="../../css/punchout_grid.css" rel="stylesheet" type="text/css" />
</head>
<body>


<script language="javascript" type="text/javascript">

var viewModel = {
    data: ko.observableArray([
        {"EmployeeID": 1,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 2,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 3,"FirstName": "Mike","LastName": "Griffin","Age": 26,"RowState": 2},
        {"EmployeeID": 4,"FirstName": "Sally","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 5,"FirstName": "Sam", "LastName": "Rollins","Age": 39,"RowState": 2},
		{"EmployeeID": 6,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},		
        {"EmployeeID": 7,"FirstName": "Max","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 8,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 9,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},
        {"EmployeeID": 10,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
        {"EmployeeID": 11,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 12,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 13,"FirstName": "Pamela","LastName": "Williams","Age": 26,"RowState": 2},
        {"EmployeeID": 14,"FirstName": "Sally","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 15,"FirstName": "Sam", "LastName": "Rollins","Age": 39,"RowState": 2},
		{"EmployeeID": 16,"FirstName": "Kelly","LastName": "Jones","Age": 26,"RowState": 2},		
        {"EmployeeID": 17,"FirstName": "Max","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 18,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 19,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},
        {"EmployeeID": 20,"FirstName": "Glenn","LastName": "Maxwell","Age": 42,"RowState": 2},		
        {"EmployeeID": 21,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 22,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 23,"FirstName": "Mike","LastName": "Griffin","Age": 26,"RowState": 2},
        {"EmployeeID": 24,"FirstName": "Jamie","LastName": "Curtis","Age": 42,"RowState": 2},
		{"EmployeeID": 25,"FirstName": "Sam", "LastName": "Rollins","Age": 39,"RowState": 2},
		{"EmployeeID": 26,"FirstName": "Jim","LastName": "Smith","Age": 26,"RowState": 2},		
        {"EmployeeID": 27,"FirstName": "Max","LastName": "BoJangles","Age": 42,"RowState": 2},
		{"EmployeeID": 28,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 29,"FirstName": "Mike","LastName": "Ogle","Age": 26,"RowState": 2},
        {"EmployeeID": 30,"FirstName": "Rick","LastName": "Smith","Age": 42,"RowState": 2},
		{"EmployeeID": 31,"FirstName": "Joe", "LastName": "Smith","Age": 39,"RowState": 2},
		{"EmployeeID": 32,"FirstName": "Mike","LastName": "Smith","Age": 26,"RowState": 2},
        {"EmployeeID": 33,"FirstName": "Fred","LastName": "Smith","Age": 42,"RowState": 2}		
    ]),
    columns: ko.observableArray(["EmployeeID", "FirstName", "LastName", "RowState"]),
    headers: ko.observableArray(["Employee ID", "First Name", "Last Name", "Row State"])
}

$(function () {
    ko.applyBindings(viewModel);
});
</script>
<script type="text/html" id="po_gridTemplate">
    <table id="poGrid" class="es-grid" cellspacing="0">

    {{if headers}}
        <thead>
        <tr data-bind="template: { name: 'po_gridTH_template', foreach: headers, templateOptions: { grid: $data } }" />
        </thead>
    {{/if}}

        <tbody data-bind="template: { name: 'po_gridTR_template', foreach: collection.slice(pager.startingRow(), pager.endingRow()), templateOptions: { columns: columns, grid: $data } }"></tbody>

        {{if footerControl }}
            <tfoot>
                <tr data-bind="template: { name: 'po_gridTF_template', foreach: headers, templateOptions: { grid: $data } }" />
            </tfoot>
        {{/if}}

        {{if pager.enabled() }}
            <tfoot>
                <tr>
                    <th align="left" colspan="${headers().length}" data-bind="template: { name: 'po_gridPager_template',  templateOptions: { grid: $data } }" />
                </tr>
            </tfoot>
        {{/if}}
    </table>
</script>

    <script type="text/html" id="po_gridTH_template">
        <th data-bind="text: $data" >
        </th>
    </script>	

    <script type="text/html" id="po_gridTR_template">
        <tr data-bind="click: $item.grid.onClick.bind($item.grid), event: { mouseover: $item.grid.onMouseIn.bind($item.grid), mouseout: $item.grid.onMouseOut.bind($item.grid) }, 
                       template: { name: 'po_gridTD_template', foreach: $item.grid.columns, templateOptions: { rowData: $data } }"></tr>
    </script>	

    <script type="text/html" id="po_gridTD_template">
        <td data-bind="text: $item.rowData[$data]"></td>
    </script>

    <script type="text/html" id="po_gridTF_template">
        <th data-bind="text: $data">
        </th>
    </script>
    
    <script type="text/html" id="po_gridPager_template">
        <button data-bind="click: $item.grid.onFirstPage.bind($item.grid)"> << </button> <button data-bind="click: $item.grid.onPrevPage.bind($item.grid)"><</button> <button data-bind="click: $item.grid.onNextPage.bind($item.grid)">></button> <button data-bind="click: $item.grid.onLastPage.bind($item.grid)">>></button> Page ${$item.grid.pager.currentPage()} of ${$item.grid.pager.totalPageCount()}
    </script>

    <div data-bind="poGrid: {items: viewModel.data, columns: viewModel.columns, headers: viewModel.headers, pager: true}" />

</body>
</html>